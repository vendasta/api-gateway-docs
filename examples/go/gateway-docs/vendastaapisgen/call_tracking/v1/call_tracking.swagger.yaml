swagger: "2.0"
info:
  title: call_tracking/v1/call_tracking.proto
  version: version not set
tags:
  - name: CallTrackingService
consumes:
  - application/json
produces:
  - application/json
paths:
  /call_tracking.CallTrackingService/CreateCall:
    post:
      operationId: CallTrackingService_CreateCall
      responses:
        "200":
          description: A successful response.
          schema:
            $ref: '#/definitions/call_trackingCreateCallResponse'
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/rpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/call_trackingCreateCallReqeust'
      tags:
        - CallTrackingService
  /call_tracking.CallTrackingService/CreateCustomer:
    post:
      operationId: CallTrackingService_CreateCustomer
      responses:
        "200":
          description: A successful response.
          schema:
            type: object
            properties: {}
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/rpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/call_trackingCreateCustomerRequest'
      tags:
        - CallTrackingService
  /call_tracking.CallTrackingService/CreateNumber:
    post:
      operationId: CallTrackingService_CreateNumber
      responses:
        "200":
          description: A successful response.
          schema:
            type: object
            properties: {}
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/rpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/call_trackingCreateNumberRequest'
      tags:
        - CallTrackingService
  /call_tracking.CallTrackingService/GetCustomer:
    post:
      operationId: CallTrackingService_GetCustomer
      responses:
        "200":
          description: A successful response.
          schema:
            $ref: '#/definitions/call_trackingGetCustomerResponse'
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/rpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/call_trackingGetCustomerRequest'
      tags:
        - CallTrackingService
  /call_tracking.CallTrackingService/ListCalls:
    post:
      operationId: CallTrackingService_ListCalls
      responses:
        "200":
          description: A successful response.
          schema:
            $ref: '#/definitions/call_trackingListCallResponse'
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/rpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/call_trackingListCallRequest'
      tags:
        - CallTrackingService
  /call_tracking.CallTrackingService/ListNumbers:
    post:
      operationId: CallTrackingService_ListNumbers
      responses:
        "200":
          description: A successful response.
          schema:
            $ref: '#/definitions/call_trackingListNumbersResponse'
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/rpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/call_trackingListNumbersRequest'
      tags:
        - CallTrackingService
  /call_tracking.CallTrackingService/UpdateCallStatus:
    post:
      operationId: CallTrackingService_UpdateCallStatus
      responses:
        "200":
          description: A successful response.
          schema:
            type: object
            properties: {}
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/rpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/call_trackingUpdateCallStatusRequest'
      tags:
        - CallTrackingService
definitions:
  call_trackingCall:
    type: object
    properties:
      id:
        type: string
      accountId:
        type: string
      destinationCallTrackingNumber:
        type: string
      sourceNumber:
        type: string
      start:
        type: string
        format: date-time
      duration:
        type: string
        format: int64
      status:
        $ref: '#/definitions/call_trackingCallStatus'
      callerName:
        type: string
      recordingUrl:
        type: string
  call_trackingCallStatus:
    type: string
    enum:
      - CALL_STATUS_QUEUED
      - CALL_STATUS_RINGING
      - CALL_STATUS_IN_PROGRESS
      - CALL_STATUS_CANCELED
      - CALL_STATUS_COMPLETED
      - CALL_STATUS_FAILED
      - CALL_STATUS_BUSY
      - CALL_STATUS_NO_ANSWER
    default: CALL_STATUS_QUEUED
  call_trackingCallTrackingNumber:
    type: object
    properties:
      id:
        type: string
      accountId:
        type: string
      phoneNumber:
        type: string
      forwardingNumber:
        type: string
      twilioSid:
        type: string
  call_trackingCreateCallReqeust:
    type: object
    properties:
      call:
        $ref: '#/definitions/call_trackingCall'
  call_trackingCreateCallResponse:
    type: object
    properties:
      id:
        type: string
  call_trackingCreateCustomerRequest:
    type: object
    properties:
      customer:
        $ref: '#/definitions/call_trackingCustomer'
  call_trackingCreateNumberRequest:
    type: object
    properties:
      number:
        $ref: '#/definitions/call_trackingCallTrackingNumber'
  call_trackingCustomer:
    type: object
    properties:
      accountGroupId:
        type: string
      accountId:
        type: string
      partnerId:
        type: string
      twilioAuthToken:
        type: string
  call_trackingGetCustomerRequest:
    type: object
    properties:
      accountGroupId:
        type: string
  call_trackingGetCustomerResponse:
    type: object
    properties:
      customer:
        $ref: '#/definitions/call_trackingCustomer'
  call_trackingListCallRequest:
    type: object
    properties:
      accountId:
        type: string
      callTrackingNumber:
        type: string
      pagingOptions:
        $ref: '#/definitions/call_trackingPagedRequestOptions'
  call_trackingListCallResponse:
    type: object
    properties:
      calls:
        type: array
        items:
          type: object
          $ref: '#/definitions/call_trackingCall'
      pagingMetadata:
        $ref: '#/definitions/call_trackingPagedResponseMetadata'
  call_trackingListNumbersRequest:
    type: object
    properties:
      accountId:
        type: string
  call_trackingListNumbersResponse:
    type: object
    properties:
      numbers:
        type: array
        items:
          type: object
          $ref: '#/definitions/call_trackingCallTrackingNumber'
  call_trackingPagedRequestOptions:
    type: object
    properties:
      cursor:
        type: string
        title: cursor can be passed to retrieve the next page of results keyed by the cursor
      pageSize:
        type: string
        format: int64
        title: page_size specifies the number of items to return in the next page
    title: To provide options for the paged request
  call_trackingPagedResponseMetadata:
    type: object
    properties:
      nextCursor:
        type: string
        title: A cursor that can be provided to retrieve the next page of results
      hasMore:
        type: boolean
        title: Whether or not more results exist
      totalResults:
        type: string
        format: int64
        title: Total results found by the operation
  call_trackingUpdateCallStatusRequest:
    type: object
    properties:
      accountId:
        type: string
      callTrackingNumber:
        type: string
      callId:
        type: string
      duration:
        type: string
        format: int64
      status:
        $ref: '#/definitions/call_trackingCallStatus'
  protobufAny:
    type: object
    properties:
      '@type':
        type: string
    additionalProperties: {}
  rpcStatus:
    type: object
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
      details:
        type: array
        items:
          type: object
          $ref: '#/definitions/protobufAny'
