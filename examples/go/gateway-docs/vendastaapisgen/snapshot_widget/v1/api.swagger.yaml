swagger: "2.0"
info:
  title: snapshot_widget/v1/api.proto
  version: version not set
tags:
  - name: SnapshotWidgetService
consumes:
  - application/json
produces:
  - application/json
paths:
  /snapshotwidget.v1.SnapshotWidgetService/GetSnapshotWidgetConfig:
    post:
      summary: Get the Configuration for a snapshot widget
      operationId: SnapshotWidgetService_GetSnapshotWidgetConfig
      responses:
        "200":
          description: A successful response.
          schema:
            $ref: '#/definitions/v1GetSnapshotWidgetConfigResponse'
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1GetSnapshotWidgetConfigRequest'
      tags:
        - SnapshotWidgetService
  /v1/snapshot-widget/create:
    post:
      summary: Create a snapshot widget
      operationId: SnapshotWidgetService_Create
      responses:
        "200":
          description: A successful response.
          schema:
            $ref: '#/definitions/v1CreateSnapshotWidgetResponse'
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1CreateSnapshotWidgetRequest'
      tags:
        - SnapshotWidgetService
  /v1/snapshot-widget/delete:
    post:
      summary: Delete a snapshot widget
      operationId: SnapshotWidgetService_Delete
      responses:
        "200":
          description: A successful response.
          schema:
            type: object
            properties: {}
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1DeleteSnapshotWidgetRequest'
      tags:
        - SnapshotWidgetService
  /v1/snapshot-widget/embed-code/get:
    post:
      summary: Get the embed code for a widget
      operationId: SnapshotWidgetService_GetEmbedCode
      responses:
        "200":
          description: A successful response.
          schema:
            $ref: '#/definitions/v1GetEmbedCodeResponse'
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1GetEmbedCodeRequest'
      tags:
        - SnapshotWidgetService
  /v1/snapshot-widget/get:
    post:
      summary: Get a snapshot widget
      operationId: SnapshotWidgetService_Get
      responses:
        "200":
          description: A successful response.
          schema:
            $ref: '#/definitions/v1GetSnapshotWidgetResponse'
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1GetSnapshotWidgetRequest'
      tags:
        - SnapshotWidgetService
  /v1/snapshot-widget/list:
    post:
      summary: List snapshot widgets matching some filters
      operationId: SnapshotWidgetService_List
      responses:
        "200":
          description: A successful response.
          schema:
            $ref: '#/definitions/v1ListSnapshotWidgetResponse'
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1ListSnapshotWidgetRequest'
      tags:
        - SnapshotWidgetService
  /v1/snapshot-widget/styles/update:
    post:
      summary: Update the styles of a snapshot widget
      operationId: SnapshotWidgetService_UpdateStyles
      responses:
        "200":
          description: A successful response.
          schema:
            type: object
            properties: {}
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1UpdateStylesRequest'
      tags:
        - SnapshotWidgetService
  /v1/snapshot-widget/update:
    post:
      summary: Update a snapshot widget
      operationId: SnapshotWidgetService_Update
      responses:
        "200":
          description: A successful response.
          schema:
            type: object
            properties: {}
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1UpdateSnapshotWidgetRequest'
      tags:
        - SnapshotWidgetService
  /v1/snapshot/autocomplete:
    post:
      summary: Get suggested autocomplete results for a search term
      operationId: SnapshotWidgetService_SnapshotAutocomplete
      responses:
        "200":
          description: A successful response.
          schema:
            $ref: '#/definitions/v1SnapshotAutocompleteResponse'
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1SnapshotAutocompleteRequest'
      tags:
        - SnapshotWidgetService
  /v1/snapshot/create:
    post:
      summary: Create a snapshot
      operationId: SnapshotWidgetService_CreateSnapshot
      responses:
        "200":
          description: A successful response.
          schema:
            type: object
            properties: {}
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1CreateSnapshotRequest'
      tags:
        - SnapshotWidgetService
  /v1/snapshot/create/from-place:
    post:
      summary: Create a snapshot from a Google Place ID
      operationId: SnapshotWidgetService_CreateSnapshotFromPlaceID
      responses:
        "200":
          description: A successful response.
          schema:
            type: object
            properties: {}
        default:
          description: An unexpected error response.
          schema:
            $ref: '#/definitions/googlerpcStatus'
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: '#/definitions/v1CreateSnapshotFromPlaceIDRequest'
      tags:
        - SnapshotWidgetService
definitions:
  ListSnapshotWidgetRequestFilters:
    type: object
    properties:
      partnerId:
        type: string
        title: A partner identifier
      marketId:
        type: string
        title: A market identifier
    title: Attributes by which to filter the list of snapshot widgets retrieved
  googlerpcStatus:
    type: object
    properties:
      code:
        type: integer
        format: int32
      message:
        type: string
      details:
        type: array
        items:
          type: object
          $ref: '#/definitions/protobufAny'
  protobufAny:
    type: object
    properties:
      '@type':
        type: string
    additionalProperties: {}
  snapshotwidgetv1Location:
    type: object
    properties:
      latitude:
        type: number
        format: float
        title: Latitude of a location
      longitude:
        type: number
        format: float
        title: Longitude of a location
    title: A latitude/longitude location
  v1Activation:
    type: object
    properties:
      appKey:
        $ref: '#/definitions/v1AppKey'
        title: the key for the app
      isTrial:
        type: boolean
        title: indicates that a trial version of the app should be activated
    title: info used to activate an app
  v1AppKey:
    type: object
    properties:
      appId:
        type: string
        title: the id of an app
      editionId:
        type: string
        title: the edition of an app
    title: the key for an app
  v1AutocompletePrediction:
    type: object
    properties:
      description:
        type: string
        title: Details of a place with name and address
      placeId:
        type: string
        title: Google place id
      mainText:
        type: string
        title: Main text of the prediction, likely the business name
      secondaryText:
        type: string
        title: Secondary text of the prediction, likely the business address
    title: A single autocomplete prediction
  v1CreateSnapshotFromPlaceIDRequest:
    type: object
    properties:
      widgetId:
        type: string
        title: A unique identifier for the widget
      partnerId:
        type: string
        title: An identifier for the partner the widget belongs to
      placeId:
        type: string
        title: A Google Place identifier for the business the snapshot is to be created for
      contactFirstName:
        type: string
        title: First name of the contact for the business
      contactEmail:
        type: string
        title: Email address of the contact for the business
      dataProtectionPolicy:
        type: boolean
        title: The checkbox value to consent the data protection policy
      emailNotificationAgreement:
        type: boolean
        title: The checkbox value to consent the email notification agreement
    title: A request to create a snapshot report from a Google Place ID
  v1CreateSnapshotRequest:
    type: object
    properties:
      widgetId:
        type: string
        title: A unique identifier for the widget
      partnerId:
        type: string
        title: An identifier for the partner the widget belongs to
      contactFirstName:
        type: string
        title: First name of the contact for the business
      contactLastName:
        type: string
        title: Last name of the contact for the business
      contactEmail:
        type: string
        title: Email address of the contact for the business
      businessName:
        type: string
        title: Name of the business
      website:
        type: string
        title: Website for the business
      streetAddress:
        type: string
        title: Street address of the business
      city:
        type: string
        title: City of the business
      state:
        type: string
        title: State of the business
      zip:
        type: string
        title: Zip code of the business
      country:
        type: string
        title: Country of the business
      businessCategory:
        type: string
        title: Business category for the business
      phone:
        type: string
        title: Phone number of the business
      facebookUrl:
        type: string
        title: Facebook URL of the business
      twitterUrl:
        type: string
        title: Twitter URL of the business
      instagramUrl:
        type: string
        title: Instagram URL of the business
      dataProtectionPolicy:
        type: boolean
        title: The checkbox value to consent the data protection policy
      emailNotificationAgreement:
        type: boolean
        title: The checkbox value to consent the email notification agreement
    title: A request to create a snapshot report
  v1CreateSnapshotWidgetRequest:
    type: object
    properties:
      partnerId:
        type: string
        title: An identifier for the partner the accounts created by the widget will be assigned to
      marketId:
        type: string
        title: An identifier for the market the accounts created by the widget will be assigned to
      campaignId:
        type: string
        title: An identifier for the campaign that should be started for accounts created via the widget
      name:
        type: string
        title: The name of the widget
      salespersonIds:
        type: array
        items:
          type: string
        title: Identifiers for the salespeople who will be assigned accounts created by the widget
      disabled:
        type: boolean
        title: Whether the widget is disabled
      landingPageUrl:
        type: string
        title: URL to redirect to after the form has been submitted
      includedProducts:
        type: array
        items:
          type: object
          $ref: '#/definitions/v1Activation'
        title: products that will be activated upon account creation
      dontGenerateSnapshot:
        type: boolean
        title: don't generate a snapshot report for this account when it is created
      addTags:
        type: array
        items:
          type: string
        title: add these tags when creating the account
    title: |-
      *******************
      Requests
      *******************
      A request for creating a new snapshot widget
  v1CreateSnapshotWidgetResponse:
    type: object
    properties:
      snapshotWidget:
        $ref: '#/definitions/v1SnapshotWidget'
        title: A snapshot widget
    title: |-
      *******************
      Response
      *******************
      Response to a CreateSnapshotWidget request
  v1DeleteSnapshotWidgetRequest:
    type: object
    properties:
      widgetId:
        type: string
        title: A unique identifier for the widget
      partnerId:
        type: string
        title: An identifier for the partner the widget belong to
    title: A request to delete a single snapshot widget
  v1GetEmbedCodeRequest:
    type: object
    properties:
      widgetId:
        type: string
        title: A unique identifier for the widget
      partnerId:
        type: string
        title: An identifier for the partner the widget belongs to
      styles:
        $ref: '#/definitions/v1WidgetStyles'
        title: The style attributes to be included with the embed code
    title: A request to retrieve the embed code for a snapshot widget
  v1GetEmbedCodeResponse:
    type: object
    properties:
      embedCode:
        type: string
        title: The HTML embed code for the widget
    title: Response to a GetEmbedCode request
  v1GetSnapshotWidgetConfigRequest:
    type: object
    properties:
      widgetId:
        type: string
        title: A unique identifier for the widget
      partnerId:
        type: string
        title: An identifier for the partner the widget belong to
    title: A request for retrieving a single snapshot widget configurations
  v1GetSnapshotWidgetConfigResponse:
    type: object
    properties:
      styles:
        $ref: '#/definitions/v1WidgetStyles'
        title: The style attributes for the widget
      status:
        $ref: '#/definitions/v1GetSnapshotWidgetConfigResponseStatus'
        title: The status of the widget
      landingPageUrl:
        type: string
        title: URL to redirect to after the form has been submitted
      includedProducts:
        type: array
        items:
          type: object
          $ref: '#/definitions/v1Activation'
        title: products that will be activated upon account creation
      dontGenerateSnapshot:
        type: boolean
        title: don't generate a snapshot report for this account when it is created
      addTags:
        type: array
        items:
          type: string
        title: add these tags when creating the account
    title: Response to a GetSnapshotWidgetConfig Response
  v1GetSnapshotWidgetConfigResponseStatus:
    type: string
    enum:
      - ENABLED
      - DISABLED
      - RATE_LIMITED
    default: ENABLED
  v1GetSnapshotWidgetRequest:
    type: object
    properties:
      widgetId:
        type: string
        title: A unique identifier for the widget
      partnerId:
        type: string
        title: An identifier for the partner the widget belong to
    title: A request for retrieving a single snapshot widget
  v1GetSnapshotWidgetResponse:
    type: object
    properties:
      snapshotWidget:
        $ref: '#/definitions/v1SnapshotWidget'
        title: A snapshot widget
    title: Response to a GetSnapshotWidget request
  v1ListSnapshotWidgetRequest:
    type: object
    properties:
      filters:
        $ref: '#/definitions/ListSnapshotWidgetRequestFilters'
        title: The filters to apply to the list request
      cursor:
        type: string
        title: A cursor to be provided when fetching additional pages of results beyond the first
      pageSize:
        type: string
        format: int64
        title: Size of the page to return
    title: A request to list snapshot widgets matching some set of filters
  v1ListSnapshotWidgetResponse:
    type: object
    properties:
      snapshotWidgets:
        type: array
        items:
          type: object
          $ref: '#/definitions/v1SnapshotWidget'
        title: A list of snapshot widgets
      nextCursor:
        type: string
        title: A cursor for the next page of results
      hasMore:
        type: boolean
        title: A flag to indicate there are more pages
      totalResults:
        type: string
        format: int64
        title: The total number of results based on the filter provided
    title: Response to a ListSnapshotWidget request
  v1SnapshotAutocompleteRequest:
    type: object
    properties:
      widgetId:
        type: string
        title: A unique identifier for the widget
      partnerId:
        type: string
        title: An identifier for the partner the widget belongs to
      searchTerm:
        type: string
        title: The search term to provide autocomplete results for
      location:
        $ref: '#/definitions/snapshotwidgetv1Location'
        title: A location to prioritize search results around
    title: A request to fetch autocomplete predictions
  v1SnapshotAutocompleteResponse:
    type: object
    properties:
      predictions:
        type: array
        items:
          type: object
          $ref: '#/definitions/v1AutocompletePrediction'
        title: A list of autocomplete predictions
    title: Response to a BusinessAutocomplete request
  v1SnapshotWidget:
    type: object
    properties:
      widgetId:
        type: string
        title: A unique identifier for the widget
      partnerId:
        type: string
        title: An identifier for the partner
      marketId:
        type: string
        title: An identifier for the market the accounts created by the widget will be assigned to
      campaignId:
        type: string
        title: An identifier for the campaign that should be started for accounts created via the widget
      name:
        type: string
        title: The name of the widget
      salespersonIds:
        type: array
        items:
          type: string
        title: Identifiers for the salespeople who will be assigned accounts created by the widget
      apiKey:
        type: string
        title: An API key that is used in conjunction with the domain to validate API calls from the widget
      styles:
        $ref: '#/definitions/v1WidgetStyles'
        title: The style attributes for the widget
      deleted:
        type: string
        format: date-time
        title: Delete UTC timestamp
      created:
        type: string
        format: date-time
        title: Created UTC timestamp
      updated:
        type: string
        format: date-time
        title: Updated UTC timestamp
      accountsCreated:
        type: string
        format: int64
        title: The number of accounts created by this widget
      disabled:
        type: boolean
        title: Whether the widget is disabled
      landingPageUrl:
        type: string
        title: URL to redirect to after the form has been submitted
      includedProducts:
        type: array
        items:
          type: object
          $ref: '#/definitions/v1Activation'
        title: products that will be activated upon account creation
      dontGenerateSnapshot:
        type: boolean
        title: don't generate a snapshot report for this account when it is created
      addTags:
        type: array
        items:
          type: string
        title: add these tags when creating the account
    title: A snapshot widget
  v1UpdateSnapshotWidgetRequest:
    type: object
    properties:
      widgetId:
        type: string
        title: A unique identifier for the widget
      partnerId:
        type: string
        title: An identifier for the partner
      marketId:
        type: string
        title: An identifier for the market the accounts created by the widget will be assigned to
      campaignId:
        type: string
        title: An identifier for the campaign that should be started for accounts created via the widget
      name:
        type: string
        title: The name of the widget
      salespersonIds:
        type: array
        items:
          type: string
        title: Identifiers for the salespeople who will be assigned accounts created by the widget
      styles:
        $ref: '#/definitions/v1WidgetStyles'
        title: The style attributes for the widget
      disabled:
        type: boolean
        title: Whether the widget is disabled
      landingPageUrl:
        type: string
        title: URL to redirect to after the form has been submitted
      includedProducts:
        type: array
        items:
          type: object
          $ref: '#/definitions/v1Activation'
        title: products that will be activated upon account creation
      dontGenerateSnapshot:
        type: boolean
        title: don't generate a snapshot report for this account when it is created
      addTags:
        type: array
        items:
          type: string
        title: add these tags when creating the account
    title: A request to update a snapshot widget
  v1UpdateStylesRequest:
    type: object
    properties:
      widgetId:
        type: string
        title: A unique identifier for the widget
      partnerId:
        type: string
        title: An identifier for the partner the widget belongs to
      styles:
        $ref: '#/definitions/v1WidgetStyles'
        title: The style attributes to be updated on the widget
    title: A request to update the style attributes on a snapshot widget
  v1WidgetStyles:
    type: object
    properties:
      width:
        type: number
        format: float
        title: Width of the widget
      backgroundColor:
        type: string
        title: Background color of the widget
      borderColor:
        type: string
        title: Border color around the widget
      borderRadius:
        type: number
        format: float
        title: Border radius around the widget
      dropShadow:
        type: boolean
        title: Boolean indicating whether or not a drop shadow should be included in the rendered widget
      primaryFontColor:
        type: string
        title: Primary font color of the widget
      secondaryFontColor:
        type: string
        title: Secondary font color of the widget
      buttonColor:
        type: string
        title: Button color in the widget
      buttonFontColor:
        type: string
        title: Button font color in the widget
      titleText:
        type: string
        title: Title text for first page
      buttonText:
        type: string
        title: Button text for submitting
      confirmationTitleText:
        type: string
        title: Title text for confirmation page
      confirmationBodyText:
        type: string
        title: Body text for confirmation page
      dataProtectionPolicyText:
        type: string
        title: Data protection policy text for consent
      emailNotificationAgreementText:
        type: string
        title: Email notification agreement text for consent
      consentInformationText:
        type: string
        title: Consent information text for consent
    title: Style attributes for a snapshot widget
