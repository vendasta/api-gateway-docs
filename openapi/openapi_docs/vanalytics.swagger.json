{
  "swagger": "2.0",
  "info": {
    "title": "vanalytics/v1/api.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "VAnalytics"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/vanalytics.v1.VAnalytics/DeleteBusinessMetric": {
      "post": {
        "summary": "DeleteBusinessMetric - soft delete a business metric",
        "operationId": "VAnalytics_DeleteBusinessMetric",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1DeleteBusinessMetricRequest"
            }
          }
        ],
        "tags": [
          "VAnalytics"
        ]
      }
    },
    "/vanalytics.v1.VAnalytics/DeleteMultiBusinessMetrics": {
      "post": {
        "summary": "DeleteMultiBusinessMetrics - soft delete multiple businesses metrics",
        "operationId": "VAnalytics_DeleteMultiBusinessMetrics",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1DeleteMultiBusinessMetricsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1DeleteMultiBusinessMetricsRequest"
            }
          }
        ],
        "tags": [
          "VAnalytics"
        ]
      }
    },
    "/vanalytics.v1.VAnalytics/GetBusinessMetric": {
      "post": {
        "summary": "GetBusinessMetric - get multiple business metrics",
        "operationId": "VAnalytics_GetBusinessMetric",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetBusinessMetricResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1GetBusinessMetricRequest"
            }
          }
        ],
        "tags": [
          "VAnalytics"
        ]
      }
    },
    "/vanalytics.v1.VAnalytics/GetBusinessMetricPoint": {
      "post": {
        "summary": "GetBusinessMetricPoint - get a business metric point",
        "operationId": "VAnalytics_GetBusinessMetricPoint",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetBusinessMetricPointResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1GetBusinessMetricPointRequest"
            }
          }
        ],
        "tags": [
          "VAnalytics"
        ]
      }
    },
    "/vanalytics.v1.VAnalytics/PushBusinessMetric": {
      "post": {
        "summary": "PushBusinessMetric stores data points for a business",
        "operationId": "VAnalytics_PushBusinessMetric",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {}
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1BusinessMetric"
            }
          }
        ],
        "tags": [
          "VAnalytics"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1BusinessMetric": {
      "type": "object",
      "properties": {
        "businessId": {
          "type": "string",
          "title": "The businessID of the SMB this data will correspond to"
        },
        "label": {
          "type": "string",
          "title": "A human readable label for the data being collected"
        },
        "points": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1Point"
          },
          "title": "One or more distinct data points that should be collected"
        }
      },
      "title": "Data expected from the client. Is composed of a header and at least one point\nof data"
    },
    "v1DateRange": {
      "type": "object",
      "properties": {
        "startDate": {
          "type": "string",
          "format": "date-time",
          "title": "start date of range"
        },
        "endDate": {
          "type": "string",
          "format": "date-time",
          "title": "end date of range"
        }
      },
      "title": "date range with start and end date"
    },
    "v1DeleteBusinessMetricRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "v1DeleteBusinessMetricResponse": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "error": {
          "$ref": "#/definitions/v1Error"
        }
      }
    },
    "v1DeleteMultiBusinessMetricsRequest": {
      "type": "object",
      "properties": {
        "businessMetrics": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1DeleteBusinessMetricRequest"
          }
        }
      }
    },
    "v1DeleteMultiBusinessMetricsResponse": {
      "type": "object",
      "properties": {
        "businessMetrics": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/v1DeleteBusinessMetricResponse"
          }
        }
      }
    },
    "v1Error": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "format": "int64"
        },
        "message": {
          "type": "string"
        }
      }
    },
    "v1GetBusinessMetricPointRequest": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        }
      }
    },
    "v1GetBusinessMetricPointResponse": {
      "type": "object",
      "properties": {
        "source": {
          "type": "string"
        },
        "businessId": {
          "type": "string"
        },
        "label": {
          "type": "string"
        },
        "value": {
          "type": "string",
          "format": "int64"
        },
        "dateHappened": {
          "type": "string",
          "format": "date-time"
        },
        "dateHappenedKey": {
          "type": "string"
        },
        "aggregationKey": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "created": {
          "type": "string",
          "format": "date-time"
        },
        "deleted": {
          "type": "boolean"
        }
      },
      "title": "https://github.com/vendasta/vanalytics/blob/9f3930d9e66a4959624a1e73abcf2a1e0b24dfdc/internal/business-metrics/model.go#L15\nGetBusinessMetricPointResponse - A single business metric point"
    },
    "v1GetBusinessMetricRequest": {
      "type": "object",
      "properties": {
        "businessId": {
          "type": "string",
          "title": "The businessID of the SMB this data will correspond to"
        },
        "label": {
          "type": "string",
          "title": "A human readable label for the data being collected"
        },
        "dateRange": {
          "$ref": "#/definitions/v1DateRange",
          "title": "date range for request"
        },
        "pageSize": {
          "type": "string",
          "format": "int64",
          "description": "Page size of the points in the returned metric."
        },
        "cursor": {
          "type": "string",
          "description": "A paging cursor for the points in the returned metric. Leave empty for initial request."
        }
      },
      "title": "data expected in request"
    },
    "v1GetBusinessMetricResponse": {
      "type": "object",
      "properties": {
        "metric": {
          "$ref": "#/definitions/v1BusinessMetric",
          "title": "A metric containing multiple points, the number of which is limited by page size"
        },
        "cursor": {
          "type": "string",
          "description": "A cursor to provide to GetBusinessMetricRequest to get additional points. If empty there are no more points."
        }
      }
    },
    "v1Point": {
      "type": "object",
      "properties": {
        "dateHappened": {
          "type": "string",
          "format": "date-time",
          "title": "Date the value happened"
        },
        "aggregationKey": {
          "type": "string",
          "title": "Human readable tag that can be used to aggregate otherwise similar values"
        },
        "intval": {
          "type": "string",
          "format": "int64"
        },
        "strval": {
          "type": "string"
        },
        "id": {
          "type": "string"
        }
      },
      "title": "Defines a single point of data"
    }
  }
}
